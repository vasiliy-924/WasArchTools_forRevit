## Socket AI+ — техническое описание для скрипта

### Что делает приложение?
Socket AI+ — это инструмент для автоматической расстановки розеток в выбранных помещениях в проекте Revit. Приложение анализирует выбранные помещения, определяет их границы и стены, и размещает розетки по определённым правилам (например, с заданным шагом, на определённой высоте и с учётом типа помещения).

### Как работает приложение?
1. **Выбор помещений**: Пользователь выделяет помещения в Revit, где нужно расставить розетки.
2. **Выбор типа розетки**: Приложение предлагает выбрать тип семейства розеток, которые есть в проекте.
3. **Загрузка правил**: Для каждого типа помещения (кухня, спальня и т.д.) есть свои правила размещения розеток. Эти правила хранятся в файле `assets/rules.json` (например, шаг между розетками, минимальное расстояние от двери и т.д.).
4. **Анализ геометрии**: Приложение определяет стены и их сегменты, вычисляет точки для размещения розеток с помощью геометрических функций.
5. **Размещение розеток**: В каждой вычисленной точке создаётся экземпляр семейства розетки, с нужным поворотом и высотой, согласно правилам.
6. **Отчёт**: После завершения работы приложение сообщает, сколько розеток успешно размещено, а сколько не удалось разместить (например, из-за ошибок или ограничений Revit).

### Откуда берутся данные?
- **Правила**: Из файла `assets/rules.json` внутри папки плагина. В этом файле описаны параметры для разных типов помещений.
- **Геометрия и объекты**: Из самого проекта Revit — приложение получает информацию о помещениях, стенах, уровнях и т.д. через API Revit.
- **Типы розеток**: Из семейства электрических устройств, загруженных в проект Revit.

### Как приложение работает с Revit?
- Socket AI+ написан на Python с использованием библиотеки pyRevit, которая позволяет создавать плагины для Revit.
- Для доступа к данным модели (помещения, стены, семейства) используется API Revit через pyRevit.
- Взаимодействие с пользователем (выбор типа розетки, сообщения об ошибках) реализовано через стандартные окна pyRevit и WPF (Windows Presentation Foundation).
- Все изменения (размещение розеток) происходят внутри транзакции Revit, что позволяет отменить действия при необходимости.

---
